(this["webpackJsonpgift-drawing"]=this["webpackJsonpgift-drawing"]||[]).push([[0],[,function(e,t,n){e.exports={Persons:"Persons_Persons__SEKnd",Center:"Persons_Center__1rLmt",InfoText:"Persons_InfoText__1oyl_",Success:"Persons_Success__1u9th",Error:"Persons_Error__2qCTG"}},,,,,,function(e,t,n){e.exports={Person:"Person_Person__1oOnS"}},function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},,,,function(e,t,n){e.exports={InputText:"InputText_InputText__1TyfP"}},,function(e,t,n){e.exports={Loader:"Loader_Loader__ANdA0",spin:"Loader_spin__3pTHl"}},,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),s=(n(21),n(2)),i=n.n(s),u=n(5),l=n(9),d=n(3),m=n(12),p=n.n(m),f=function(e){return r.a.createElement("input",{value:e.value,onChange:e.changed,className:p.a.InputText,type:"text",placeholder:e.placeholder})},v=n(13),_=function e(t,n,a){Object(v.a)(this,e),this.id=t,this.name=n,this.email=a},h=n(7),b=n.n(h),g=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),u=i[0],l=i[1],m=Object(a.useState)(),p=Object(d.a)(m,2),v=p[0],h=p[1];Object(a.useEffect)((function(){var t=e.data.name;t&&0!==t.length?c(t):c("");var n=e.data.email;n&&0!==n.length?l(n):l("");var a=e.data.id;a&&0!==a.length?h(a):h("")}),[e.data]);return r.a.createElement("div",{className:b.a.Person},r.a.createElement(f,{value:o,changed:function(t){return n=t.target.value,c(n),void e.onUpdate(new _(v,n,u));var n},className:b.a.PersonName,placeholder:"Imi\u0119"}),r.a.createElement(f,{value:u,changed:function(t){return n=t.target.value,l(n),void e.onUpdate(new _(v,o,n));var n},className:b.a.PersonEmail,placeholder:"Email"}))},E=n(8),j=n.n(E),x=function(e){return r.a.createElement("button",{className:[j.a.Button,j.a[e.btnType]].join(" "),onClick:e.onClicked},e.children)},w=n(14),y=n.n(w),O=function(e){return r.a.createElement("div",{className:y.a.Loader})},k=n(1),T=n.n(k),P=n(15),S=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,a=Object(P.a)(t),e.prev=2,a.s();case 4:if((r=a.n()).done){e.next=14;break}return o=r.value,console.log("send to",o.email,o.name),e.next=9,I(o.email,o.name);case 9:c=e.sent,n&=c,console.log("result",c);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:return e.abrupt("return",N(n));case 24:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return e?"ok":"error"},I=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={service_id:"service_".concat("4i66flw"),template_id:"template_".concat("gjlo5p4"),user_id:"user_".concat("gkMpfertGe7lwIlEFmfzX"),template_params:{from_name:"\u015awi\u0119ty Miko\u0142aj",to_name:n,to_email:t,message:"Test wiadomo\u015bci"}},r={"Content-Type":"application/json"},o=JSON.stringify(a),e.next=5,fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:r,body:o});case 5:if(c=e.sent,console.log(c),c.ok){e.next=12;break}return console.log("error!"),e.abrupt("return",!1);case 12:return c.statusText,e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),o=n[0],c=n[1],s=Object(a.useState)(""),m=Object(d.a)(s,2),p=m[0],f=m[1],v=Object(a.useState)(!1),h=Object(d.a)(v,2),b=h[0],E=h[1],j=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,S(o);case 3:t=e.sent,f(t),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=o.findIndex((function(t){return t.id===e.id})),n=Object(l.a)(o);n[t]=e,c(n)},y=o.map((function(e){return r.a.createElement(g,{key:e.id,data:e,onUpdate:w})}));0===o.length&&(y=r.a.createElement("div",{className:T.a.InfoText},"Prosz\u0119 doda\u0107 osoby i adresy mailowe"));var k=null;b&&(k=r.a.createElement("div",{className:T.a.Center},r.a.createElement(O,null)));var P=null;b||p&&0!==p.length||(P=r.a.createElement("div",{className:T.a.Center},r.a.createElement(x,{btnType:"Success",onClicked:function(){var e=1;o.length>0&&(e=o.reduce((function(e,t,n,a){return a[n].id>e?a[n].id:e}),0)+1);var t=[].concat(Object(l.a)(o),[new _(e,"","")]);c(t)}},"Dodaj"),r.a.createElement(x,{btnType:"Danger",onClicked:j},"Losuj")));var N=null;return!b&&p&&p.length>0&&(N=r.a.createElement("div",{className:T.a.Center},"ok"===p?r.a.createElement("div",{className:[T.a.InfoText,T.a.Success].join(" ")},"Wiadomo\u015bci zosta\u0142y wys\u0142ane."):null,"error"===p?r.a.createElement("div",{className:[T.a.InfoText,T.a.Error].join(" ")},"Wyst\u0105pi\u0142 b\u0142\u0105d podczas wysy\u0142ania wiadomo\u015bci!"):null)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:T.a.Persons},y),P,k,N)};var B=function(){return r.a.createElement("div",null,r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.0b890e10.chunk.js.map